<!DOCTYPE html>
<html lang="en">
<head>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/@solana/web3.js@1.43.0/dist/solanaWeb3.min.js"></script>
    <link href="icon.png" rel="icon">
    <title>medium Farm</title>
    <script>
        window.addEventListener("DOMContentLoaded", () => {
        const tg = window.Telegram?.WebApp;
            
        if (tg) {
            tg.disableClosingConfirmation(); 
            tg.expand();
            
        if (tg.isExpanded && tg.platform !== 'unknown') {
            document.documentElement.style.height = '100vh';
                document.body.style.height = '100vh';
        }
            
        console.log('Telegram WebApp initialized:', {
            isExpanded: tg.isExpanded,
                viewportHeight: tg.viewportHeight,
            platform: tg.platform
        });
        }
        });
    </script>
    <title>medium Farm</title>
</head>
<body>
    <div id="loading-screen" class="loading-screen">
        <div class="loader-content">
          <img src="icon.png" alt="Loader Bud" class="loader-bud">
          <div class="loader-bar">
            <div class="loader-fill"></div>
          </div>
        </div>
      </div>
    <header>
        <div class="stats">
            <div class="money">0</div>
            <img src="money.png" alt="">
        </div>
    </header>
    <div class="lamp-conteiner">
        <div class="lamp">
            <img src="lamp.png" alt="">
        </div>
    </div>
    <div class="farm_plant">
        <div class="plant">
            <img src="plant.png" alt="">
        </div>
    </div>
    <div class="lamp-glow"></div>
    <div class="buds">
        <img src="bud.png" class="bud bud1">
        <div class="leaves leaves1"></div>
        <img src="bud.png" class="bud bud2">
        <div class="leaves leaves2"></div>
        <img src="bud.png" class="bud bud3">
        <div class="leaves leaves3"></div>
        <img src="bud.png" class="bud bud4">
        <div class="leaves leaves4"></div>
        <img src="bud.png" class="bud bud5">
        <div class="leaves leaves5"></div>
    </div>
    
    <div id="shop-modal">
        <div class="shop-content">
          <button class="close-shop-button" id="close-shop-button">&times;</button>
          <h2 style="color: white; text-align: center; margin-bottom: 20px;">Магазин</h2>
          <div class="shop-items"></div>
        </div>
    </div>

    <div id="inventory-modal" class="inventory-modal">
        <div class="inventory-content">
            <button id="close-inventory" class="close-inventory">&times;</button>
            <div class="inventory-items"></div>
        </div>
    </div>

    <div id="action-menu" class="action-menu hidden"></div>

    <!-- Окно телефона -->
    <div id="phone-modal" class="phone-modal">
        <div class="phone-frame">
            <div class="phone-header"></div>
            <div class="phone-screen">
                <!-- Главный экран -->
                <div class="home-screen">
                    <div class="phone-apps">
                        <div class="phone-app" data-app="chats" style="background-color: rgb(47, 203, 0);">
                            <img src="chat.png" alt="Чаты">
                        </div>
                        
                    </div>
                </div>
                
                <!-- Экран приложения (изначально скрыт) -->
                <div class="app-screen" style="display: none;">
                    <div class="app-header">
                        <button class="back-button">← Назад</button>
                        <h2 class="app-title"></h2>
                    </div>
                    <div class="app-content"></div>
                </div>
            </div>
            
            <div class="phone-footer">
                <div id="close-phone" class="close-phone-button"></div>
            </div>
        </div>
    </div>

<!-- <div id="wallet-modal" style="display: none;">
  <div class="wallet-content">
    <button class="close-wallet-button" id="close-wallet-modal" style="top: 80px;">&times;</button>
    
    <div class="wallet-header">
      <img src="big-wallet.png" alt="Wallet" class="wallet-icon">
      <h2>Кошелек</h2>
    </div>
    
    <div id="wallet-interface">
      <div class="wallet-description">
        <p>Подключите свой криптокошелек для получения токенов</p>
      </div>
      
      <div class="wallet-options">
        <button id="connect-wallet-phantom" class="wallet-option">
          <img src="phantom.png" alt="Phantom">
          <span>Phantom</span>
        </button>
        
        <button id="connect-wallet-solflare" class="wallet-option" disabled>
          <img src="solflare.png" alt="Solflare">
          <span>Solflare (скоро)</span>
        </button>

        <button id="connect-wallet-trust" class="wallet-option" disabled>
          <img src="trust.png" alt="trust">
          <span>Trust (скоро)</span>
        </button>
      </div>
    </div>
    
    <div id="wallet-details" style="display: none;">
      <div class="wallet-info">
        <div class="info-item">
          <span>Статус:</span>
          <span class="status-connected">Подключено</span>
        </div>
        <div class="info-item">
          <span>Адрес:</span>
          <span id="wallet-address-display" class="wallet-address"></span>
        </div>
        <div class="info-item">
          <span>Баланс:</span>
          <span id="wallet-balance">0 SOL</span>
        </div>
      </div>
    </div>
    
    <div class="wallet-footer">
      <button id="disconnect-wallet" class="btn-disconnect">Отключить кошелек</button>
      <p>Мы используем только проверенные кошельки</p>
    </div>
  </div>
</div> -->

    <div id="buff-status-container" class="buff-status-container"></div>
    
    <footer>
        <div class="menu">
            <div class="btn-cont">
                <button class="menu_button" id="shop_button"><img src="shop.png" alt=""></button>
                <p>Магазин</p>
            </div>
            <div class="btn-cont">
                <button class="menu_button" id="darknet_button"><img src="phone.png" alt=""></button>
                <p>Телефон</p>
            </div>
            <div class="btn-cont">
                <button class="menu_button" id="inventar_button"><img src="inventory.png" alt=""></button>
                <p>Инвентарь</p>
            </div>
            <div class="btn-cont">
                <button class="menu_button" id="wallet_button"><img src="wallet.png" alt=""></button>
                <p>Кошелек</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
